<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module" src="../js/frontend/scripts/header.js"></script>
    <script type="text/javascript"> var exports = {}; </script>
    <title>Fiche mission</title>
</head>

<body>
    <div class="centering_div" id="profileInfo">
        <p class="error_message"></p>
        <div class="affiche-mission shadow">
            <p>Mission de John Doe</p>
            <p>le Lundi</p>
            <p>de 13:00 à 15:00</p>
            <p>Adresse du client :</p>
            <p>4 rue de la republique</p>
            <p>78000 Versailles-la-foret</p>
            <p>numéro de téléphone : 0612131415</p>
            <p>adresse e-mail : John.doe@bullshit.fr</p>

            <hr>

            <p>Auxiliaire de vie en charge</p>
            <p>Aurelie Droubert</p>
            <p>Adresse de l'Auxiliaire de vie :</p>
            <p>12 rue henry goethe</p>
            <p>78000 Versailles-la-plage</p>
            <p>numéro de téléphone : 0691989798</p>
            <p>adresse e-mail : TheAurelieXx78@gamer.net</p>

            <hr>
            <div class="buttons-affiche">
                <p>Etat de la Mission : Validé</p>
                <button class="btn btn-warning btn-affiche">Modifier</button>
                <button class="btn btn-danger btn-affiche">Supprimer</button>
            </div>
            
            
        </div>

    </div>
    <script type="text/javascript" src="../ressources\bootstrap-5.0.2-dist\js/bootstrap.bundle.js" crossorigin="anonymous"></script>
    <script type="module" src="../js/frontend/scripts/navbar_include.js"></script>
        
</body>



<script type="module">
    const recurenceMap = {
        1: "hebdomadaire",
        2: "mensuelle",
        3: "bi-mensuelle",
    }

    const dayMap= {
        1:"lundi",
        2:"mardi",
        3:"mercredi",
        4:"jeudi",
        5:"vendredi",
        6:"samedi",
        7:"dimanche"
    }

    const missionId = new URLSearchParams(window.location.search).get("id")
    const res = await window.exposeMissionData.getMissionData(missionId)

    console.log(res)
    if (res[0] == false){
        document.getElementsByClassName("error_message")[0].innerText = "Erreur " + res[1].statusCode + ", " + res[1].message;
    }
    if (res[0] == true){
        const mission = res[1]

        console.log(mission)


        
    }

</script>

</html>